<!DOCTYPE html>
<html lang='ja'>
  <head>
    <meta charset='utf-8'>
    <style>
      #index{
        margin-left: 50px;
        width: auto;
        height: auto;
      }

      #container{
        margin-left: 50px;
        padding: 20px;
        width: auto;
        height: auto;
      }

      .title{
        font-size: 25px;
        margin: 30px 30px 30px 30px;
      }

      p{
        font-size: 18px;
      }
    </style>
    <script>
      window.onload = function(){
      }
    </script>
  </head>
  <body>
    <div class='title' id='title'>
      ◆◆◆ドキュメント◆◆◆
    </div>
    <div id='index'>
      <ul>
        <li>
          <a href='#LineCanvas'>
            LineCanvas
          </a>
          <ul>
            <li>
              <a href='#LineCanvas.Line'>
                LineCanvas.Line
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <div id='container'>
      <div name='LineCanvas'>
        <p>
          LineCanvas
        </p>
        線の描画を行い、描画した線の管理を行うレイアウトクラス。<br>
        <br>
        線の描画は内部クラスの
        <a href='#LineCanvas.Line'>
          LineCanvas.Line
        </a>
        クラスが行う。<br>
        <br>
        このレイアウトは線を繋ぎたいViewインスタンスの親Viewより背面に配置し、<br>
        親Viewは背景色の設定はしないことを前提としている。<br>
        <!-- <ul>
          <li>
            Tail
            <ul style='list-style-type: none;'>
              <li style='padding-bottom:30px;'>
                Tail()
              </li>
              <li>
                2つのインスタンスを頭としっぽでつなぐ線を描画するためのBoxViewを生成するメソッド。
              </li>
            </ul>
          </li>
        </ul> -->
      </div>
      <hr>
      <div name='LineCanvas.Line'>
        <p>
          LineCanvas.Line
        </p>
        線の描画を行う内部クラス。<br>
        <br>
        線を引く手法として、Width, Heightのどちらかを2px程度にしたBoxViewを生成し、<br>
        それを複数繋ぎ合わせて線のようにしている。<br>
        <br>
        LineCanvas.Lineクラスでは線を描画する2つのメソッドを実装している。<br>
        <br>
        2つのViewインスタンスA, Bをしっぽと頭を繋ぐDrawTailメソッドと<br>
        右端または左端と頭を繋ぐDrawSideメソッドの2種類を実装している。<br>
        <br>
        DrawTailメソッドは以下の4パターン(+左右反転)が描画される。<br>
        この時の描画に使用するBoxViewを管理するのがTailLines。<br>
        線に付属している番号は配列のインデックス。<br>
        <br>
        <pre>
  a. _____       b.    _____       c.                       d.   __3___
    |  A  |           |  A  |                                   |4     |
    |_____|           |_____|                  __3__          __|__    |
      0|                 |                    |     |        |  B  |   |
       |_1_              |0                   |     |4       |_____|   |2
           |             |           _____    |2  __|__                |
           |2            |          |  A  |   |  |  B  |      _____    |
         __|__         __|__        |_____|   |  |_____|     |  A  |   |
        |  B  |       |  B  |          |0     |              |_____|   |
        |_____|       |_____|          |___1__|                0|___1__|
        </pre>
        <br>
        DrawSideメソッドは以下の4パターン(+左右反転)が描画される。<br>
        この時の描画に使用するBoxViewを管理するのがSideLines。<br>
        線に付属している番号は配列のインデックス。<br>
        <br>
        <pre>
  e. _____            f. _____          g.             __2__        h.   ___2___
    |  A  |__0__        |  A  |__0__                  |     |3        _3|__     |
    |_____|     |       |_____|     |1                |1  __|__      |  B  |    |
                |3          ____2___|                 |  |  B  |     |_____|    |1
              __|__      _3|__             _____      |  |_____|      _____     |
             |  B  |    |  B  |           |  A  |__0__|              |  A  |_0__|
             |_____|    |_____|           |_____|                    |_____|
        </pre>
      </div>
    </container>
  </body>
</html>
